# JayLink SMS Platform - Environment Configuration (Development)
# ---------------------------------------------------------------------
# IMPORTANT: This file contains sensitive information. Never commit it to
# version control systems. Keep a .env.example file with dummy values instead.
# ---------------------------------------------------------------------

# =====================================================================
# CORE APPLICATION SETTINGS
# =====================================================================

# Server Configuration
# ---------------------------------------------------------------------
# NODE_ENV: Determines the application environment (development, production, test)
# PORT: The port on which the server will listen
# API_URL: The full URL for API endpoints (used for callbacks, webhooks)
# FRONTEND_URL: The URL of the frontend application (for CORS, redirects)
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000/api
FRONTEND_URL=http://localhost:8080

# Database Configuration
# ---------------------------------------------------------------------
# DB_HOST: The hostname of the database server
# DB_PORT: The port on which the database server is running
# DB_USER: Database username with appropriate permissions
# DB_PASSWORD: Database user password (keep secret)
# DB_NAME: Name of the database to use
# DB_CHARSET: Character set for the database (default: utf8mb4)
# DB_COLLATE: Collation for the database (default: utf8mb4_unicode_ci)
DB_HOST=localhost
DB_PORT=3306
DB_USER=jaylink_user
DB_PASSWORD=jaylinkdev123
DB_NAME=jaylink_db
DB_CHARSET=utf8mb4
DB_COLLATE=utf8mb4_unicode_ci

# Optional consolidated DATABASE_URL (some PaaS providers use this format)
DATABASE_URL=mysql://jaylink_user:jaylinkdev123@localhost:3306/jaylink_db

# Authentication Configuration
# ---------------------------------------------------------------------
# JWT_SECRET: Secret key for signing JWT tokens (keep this very secure)
# JWT_EXPIRES_IN: Expiration time for standard JWT tokens
# JWT_REFRESH_SECRET: Secret key for signing refresh tokens
# JWT_REFRESH_EXPIRES_IN: Expiration time for refresh tokens
# JWT_RESET_SECRET: Secret key for password reset tokens
# SALT_ROUNDS: Number of bcrypt salt rounds for password hashing
JWT_SECRET=your_jwt_secret_key_jaylink_dev
JWT_EXPIRES_IN=1d
JWT_REFRESH_SECRET=your_jwt_refresh_secret_jaylink_dev
JWT_REFRESH_EXPIRES_IN=7d
JWT_RESET_SECRET=your_jwt_reset_secret_jaylink_dev
SALT_ROUNDS=10

# =====================================================================
# BUSINESS CONFIGURATION
# =====================================================================

# Currency Configuration
# ---------------------------------------------------------------------
# CURRENCY_CODE: ISO 4217 currency code (e.g., NGN, USD, EUR)
# CURRENCY_SYMBOL: Currency symbol (e.g., ₦, $, €)
# CURRENCY_NAME: Full name of the currency
# CURRENCY_DECIMAL_PLACES: Number of decimal places for the currency
CURRENCY_CODE=NGN
CURRENCY_SYMBOL=₦
CURRENCY_NAME=Naira
CURRENCY_DECIMAL_PLACES=2

# System Defaults
# ---------------------------------------------------------------------
# DEFAULT_MIN_BALANCE: Minimum balance required for sending SMS
# LOW_BALANCE_PERCENTAGE: Percentage threshold for low balance alerts
# DEFAULT_TIMEZONE: Default timezone for the application
# CONTACTS_PER_PAGE: Default number of contacts per page in listings
# TRANSACTIONS_PER_PAGE: Default number of transactions per page
# MESSAGES_PER_PAGE: Default number of messages per page
DEFAULT_MIN_BALANCE=500
LOW_BALANCE_PERCENTAGE=15
DEFAULT_TIMEZONE=Africa/Lagos
CONTACTS_PER_PAGE=20
TRANSACTIONS_PER_PAGE=20
MESSAGES_PER_PAGE=20

# =====================================================================
# FILE STORAGE CONFIGURATION
# =====================================================================

# File Upload Configuration
# ---------------------------------------------------------------------
# UPLOAD_DIR: Directory for file uploads (relative to project root)
# MAX_FILE_SIZE: Maximum size for general file uploads (in bytes)
# MAX_CSV_SIZE: Maximum size for CSV file uploads (in bytes)
# ALLOWED_AUDIO_TYPES: Comma-separated list of allowed audio MIME types
# ALLOWED_CSV_TYPES: Comma-separated list of allowed CSV MIME types
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760
MAX_CSV_SIZE=5242880
ALLOWED_AUDIO_TYPES=audio/mpeg,audio/wav,audio/ogg
ALLOWED_CSV_TYPES=text/csv,application/csv,text/plain

# =====================================================================
# SMS PROVIDER CONFIGURATION
# =====================================================================

# Primary SMS Provider
# ---------------------------------------------------------------------
# SMS_PROVIDER: Name of the SMS provider service
# SMS_PROVIDER_API_KEY: API key for the SMS provider
# SMS_PROVIDER_BASE_URL: Base URL for the SMS provider's API
# SMS_PROVIDER_DEFAULT_SENDER: Default sender ID for SMS messages
# SMS_PRICING_LOCAL: Cost per SMS for local messages (in lowest currency unit)
# SMS_PRICING_INTERNATIONAL: Cost per SMS for international messages
# SMS_PROVIDER_USERNAME: Username for the SMS provider (if required)
# SMS_PROVIDER_ACCOUNT_ID: Account ID for the SMS provider (if required)
SMS_PROVIDER=smsprovider.com.ng
SMS_PROVIDER_API_KEY=your_sms_api_key
SMS_PROVIDER_BASE_URL=https://api.smsprovider.com.ng/api/v1
SMS_PROVIDER_DEFAULT_SENDER=JayLink_SMS
SMS_PRICING_LOCAL=300
SMS_PRICING_INTERNATIONAL=1000
SMS_PROVIDER_USERNAME=your_sms_username
SMS_PROVIDER_ACCOUNT_ID=your_account_id

# Backup SMS Provider
# ---------------------------------------------------------------------
# SMS_BACKUP_PROVIDER_ENABLED: Whether to use a backup SMS provider
# SMS_BACKUP_PROVIDER: Name of the backup SMS provider
# SMS_BACKUP_PROVIDER_API_KEY: API key for the backup SMS provider
# SMS_BACKUP_PROVIDER_BASE_URL: Base URL for the backup SMS provider's API
SMS_BACKUP_PROVIDER_ENABLED=false
SMS_BACKUP_PROVIDER=termii
SMS_BACKUP_PROVIDER_API_KEY=your_backup_api_key
SMS_BACKUP_PROVIDER_BASE_URL=https://api.termii.com/api/v1

# Development Flags for SMS
# ---------------------------------------------------------------------
# FORCE_REAL_SMS: Force sending real SMS in development (default: false)
FORCE_REAL_SMS=false

# =====================================================================
# NOTIFICATIONS CONFIGURATION
# =====================================================================

# Push Notifications
# ---------------------------------------------------------------------
# PUSH_NOTIFICATIONS_ENABLED: Whether push notifications are enabled
# FCM_SERVER_KEY: Firebase Cloud Messaging server key
# WEB_PUSH_PUBLIC_KEY: VAPID public key for web push notifications
# WEB_PUSH_PRIVATE_KEY: VAPID private key for web push notifications
# NOTIFICATION_RETENTION_DAYS: Days to keep notifications before cleanup
PUSH_NOTIFICATIONS_ENABLED=true
FCM_SERVER_KEY=your_fcm_server_key
WEB_PUSH_PUBLIC_KEY=your_web_push_public_key
WEB_PUSH_PRIVATE_KEY=your_web_push_private_key
NOTIFICATION_RETENTION_DAYS=30

# Firebase Configuration (for push notifications)
# ---------------------------------------------------------------------
# FIREBASE_SERVICE_ACCOUNT: JSON service account credentials
# FIREBASE_DATABASE_URL: Firebase Realtime Database URL
# FIREBASE_PROJECT_ID: Firebase project ID
# FIREBASE_CLIENT_ID: Firebase client ID
# FIREBASE_CLIENT_SECRET: Firebase client secret
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"your-project","private_key_id":"..."}
FIREBASE_DATABASE_URL=https://your-project.firebaseio.com
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_ID=your-client-id
FIREBASE_CLIENT_SECRET=your-client-secret

# =====================================================================
# EMAIL CONFIGURATION
# =====================================================================

# SMTP Settings
# ---------------------------------------------------------------------
# EMAIL_HOST: SMTP server hostname
# EMAIL_PORT: SMTP server port
# EMAIL_USER: SMTP username
# EMAIL_PASSWORD: SMTP password
# EMAIL_FROM: Default sender email address
# ADMIN_EMAIL: Admin email address for notifications
# SUPPORT_EMAIL: Support email address for user inquiries
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USER=noreply@yourapp.com
EMAIL_PASSWORD=your_email_password
EMAIL_FROM=JayLink <noreply@yourapp.com>
ADMIN_EMAIL=admin@yourapp.com
SUPPORT_EMAIL=support@yourapp.com

# =====================================================================
# PAYMENT GATEWAY CONFIGURATION
# =====================================================================

# Paystack Integration
# ---------------------------------------------------------------------
# PAYMENT_PROVIDER: Name of the payment provider (e.g., paystack)
# PAYSTACK_PUBLIC_KEY: Paystack public key
# PAYSTACK_SECRET_KEY: Paystack secret key
# PAYSTACK_BASE_URL: Paystack API base URL
# PAYSTACK_CALLBACK_URL: URL for payment verification callbacks
# PAYSTACK_WEBHOOK_SECRET: Secret for verifying Paystack webhooks
# PAYMENT_TEST_MODE: Whether to use test mode for payments
# PAYSTACK_CHANNELS: Comma-separated list of allowed payment channels
PAYMENT_PROVIDER=paystack
PAYSTACK_PUBLIC_KEY=your_paystack_public_key
PAYSTACK_SECRET_KEY=your_paystack_secret_key
PAYSTACK_BASE_URL=https://api.paystack.co
PAYSTACK_CALLBACK_URL=https://yourapp.com/api/payments/verify
PAYSTACK_WEBHOOK_SECRET=your_paystack_webhook_secret
PAYMENT_TEST_MODE=true
PAYSTACK_CHANNELS=card,bank_transfer,ussd

# =====================================================================
# VOICE SERVICE CONFIGURATION
# =====================================================================

# Voice Provider
# ---------------------------------------------------------------------
# VOICE_PROVIDER_API_KEY: API key for the voice provider
# VOICE_PROVIDER_BASE_URL: Base URL for the voice provider's API
# VOICE_PROVIDER_ACCOUNT_SID: Account SID for the voice provider
# VOICE_PROVIDER_AUTH_TOKEN: Auth token for the voice provider
VOICE_PROVIDER_API_KEY=your_voice_api_key
VOICE_PROVIDER_BASE_URL=https://api.voiceprovider.com/v1
VOICE_PROVIDER_ACCOUNT_SID=your_account_sid
VOICE_PROVIDER_AUTH_TOKEN=your_auth_token

# =====================================================================
# QUEUE AND CACHING CONFIGURATION
# =====================================================================

# Redis Configuration
# ---------------------------------------------------------------------
# REDIS_HOST: Hostname of the Redis server
# REDIS_PORT: Port of the Redis server
# REDIS_PASSWORD: Password for Redis authentication
# REDIS_TLS: Whether to use TLS for Redis connection
# REDIS_DB: Redis database number to use
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false
REDIS_DB=0

# =====================================================================
# SECURITY CONFIGURATION
# =====================================================================

# Rate Limiting
# ---------------------------------------------------------------------
# RATE_LIMIT_WINDOW_MS: Time window for rate limiting (in milliseconds)
# RATE_LIMIT_MAX: Maximum number of requests per window
RATE_LIMIT_WINDOW_MS=300000
RATE_LIMIT_MAX=200

# CORS and Security
# ---------------------------------------------------------------------
# CORS_ORIGIN: Comma-separated list of allowed origins for CORS
# CSRF_PROTECTION: Whether to enable CSRF protection
# MAX_LOGIN_ATTEMPTS: Maximum number of login attempts before lockout
# ACCOUNT_LOCKOUT_TIME: Account lockout time in minutes after max attempts
CORS_ORIGIN=http://localhost:8080,https://yourapp.com
CSRF_PROTECTION=false
MAX_LOGIN_ATTEMPTS=10
ACCOUNT_LOCKOUT_TIME=30

# =====================================================================
# MONITORING & BACKUP CONFIGURATION
# =====================================================================

# System Monitoring
# ---------------------------------------------------------------------
# MONITORING_ENABLED: Whether to enable system monitoring
# MONITORING_INTERVAL: Interval for collecting metrics (in milliseconds)
# MONITORING_EXTENDED_LOGGING: Whether to enable extended logging
# MONITORING_METRICS_FILE: File to store metrics in JSON format
# MONITORING_ALERT_COOLDOWN: Cooldown period between alerts (in milliseconds)
# MONITORING_ALLOW_RESTART: Whether to allow auto-restart in critical conditions
# MONITORING_STORAGE_INTERVAL: Interval for storing metrics in database
# MONITORING_RETENTION_DAYS: Days to keep monitoring data
MONITORING_ENABLED=true
MONITORING_INTERVAL=60000
MONITORING_EXTENDED_LOGGING=true
MONITORING_METRICS_FILE=./logs/metrics.json
MONITORING_ALERT_COOLDOWN=300000
MONITORING_ALLOW_RESTART=false
MONITORING_STORAGE_INTERVAL=900000
MONITORING_RETENTION_DAYS=30

# Alert Notifications
# ---------------------------------------------------------------------
# MONITORING_ALERT_ACTIONS: Actions to take on alerts (comma-separated)
# MONITORING_EMAIL_ENABLED: Whether to enable email alerts
# MONITORING_EMAIL_TO: Email address to send alerts to
# MONITORING_EMAIL_FROM: Email address to send alerts from
# MONITORING_EMAIL_SMTP_HOST: SMTP host for alert emails
# MONITORING_EMAIL_SMTP_PORT: SMTP port for alert emails
# MONITORING_EMAIL_SMTP_SECURE: Whether to use secure SMTP
# MONITORING_EMAIL_SMTP_USER: SMTP username for alert emails
# MONITORING_EMAIL_SMTP_PASS: SMTP password for alert emails
MONITORING_ALERT_ACTIONS=log,notification
MONITORING_EMAIL_ENABLED=true
MONITORING_EMAIL_TO=admin@example.com
MONITORING_EMAIL_FROM=monitoring@jaylink.com
MONITORING_EMAIL_SMTP_HOST=smtp.example.com
MONITORING_EMAIL_SMTP_PORT=587
MONITORING_EMAIL_SMTP_SECURE=false
MONITORING_EMAIL_SMTP_USER=smtp_user
MONITORING_EMAIL_SMTP_PASS=smtp_password

# Slack Alerts
# ---------------------------------------------------------------------
# MONITORING_SLACK_ENABLED: Whether to enable Slack alerts
# MONITORING_SLACK_WEBHOOK_URL: Webhook URL for Slack alerts
# MONITORING_SLACK_CHANNEL: Slack channel for alerts
MONITORING_SLACK_ENABLED=true
MONITORING_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
MONITORING_SLACK_CHANNEL=#server-alerts

# Custom Webhook (optional)
# ---------------------------------------------------------------------
# MONITORING_WEBHOOK_ENABLED: Whether to enable custom webhook alerts
# MONITORING_WEBHOOK_URL: Webhook URL for custom alerts
# MONITORING_WEBHOOK_HEADERS: JSON string of headers for webhook requests
MONITORING_WEBHOOK_ENABLED=false
MONITORING_WEBHOOK_URL=https://webhook.example.com/endpoint
MONITORING_WEBHOOK_HEADERS={"Authorization":"Bearer your_token_here"}

# Alert Thresholds
# ---------------------------------------------------------------------
# Various thresholds for system monitoring alerts
THRESHOLD_SYSTEM_MEMORY_WARNING=80
THRESHOLD_SYSTEM_MEMORY_CRITICAL=90
THRESHOLD_SYSTEM_CPU_WARNING=0.8
THRESHOLD_SYSTEM_CPU_CRITICAL=0.9
THRESHOLD_PROCESS_MEMORY_WARNING=80
THRESHOLD_PROCESS_MEMORY_CRITICAL=90
THRESHOLD_DISK_USAGE_WARNING=80
THRESHOLD_DISK_USAGE_CRITICAL=90
THRESHOLD_DB_RESPONSE_WARNING=500
THRESHOLD_DB_RESPONSE_CRITICAL=2000
THRESHOLD_APP_ERRORS_WARNING=10
THRESHOLD_APP_ERRORS_CRITICAL=50
THRESHOLD_APP_MIN_UPTIME=300

# Database Backup Configuration
# ---------------------------------------------------------------------
# BACKUP_ENABLED: Whether to enable database backups
# BACKUP_DIRECTORY: Directory to store backups
# BACKUP_INTERVAL: Interval between backups (in milliseconds)
# BACKUP_TIME: Daily backup time (alternative to interval)
# BACKUP_COMPRESS: Whether to compress backups
# BACKUP_RETENTION: Days to keep backups
# BACKUP_HEALTH_CHECK_INTERVAL: Interval for backup health checks
# BACKUP_OPTIONS: Comma-separated list of mysqldump options
# BACKUP_CRON_SCHEDULE: Cron schedule for backups (if using cron)
BACKUP_ENABLED=true
BACKUP_DIRECTORY=./backups
BACKUP_INTERVAL=86400000
BACKUP_TIME=01:00
BACKUP_COMPRESS=true
BACKUP_RETENTION=30
BACKUP_HEALTH_CHECK_INTERVAL=3600000
BACKUP_OPTIONS=--single-transaction,--quick,--lock-tables=false
BACKUP_CRON_SCHEDULE=0 1 * * *

# AWS S3 Backup (optional)
# ---------------------------------------------------------------------
# BACKUP_AWS_S3_BUCKET: S3 bucket for remote backups
# BACKUP_AWS_S3_PREFIX: S3 key prefix for backups
# BACKUP_AWS_ACCESS_KEY: AWS access key for S3
# BACKUP_AWS_SECRET_KEY: AWS secret key for S3
# BACKUP_AWS_REGION: AWS region for S3
# BACKUP_AWS_S3_ENABLED: Whether to enable S3 backups
# BACKUP_AWS_S3_RETENTION: Days to keep backups in S3
BACKUP_AWS_S3_ENABLED=false
BACKUP_AWS_S3_BUCKET=your-backup-bucket
BACKUP_AWS_S3_PREFIX=jaylink-backups/
BACKUP_AWS_ACCESS_KEY=your_access_key
BACKUP_AWS_SECRET_KEY=your_secret_key
BACKUP_AWS_REGION=us-east-1
BACKUP_AWS_S3_RETENTION=90

# =====================================================================
# LOGGING CONFIGURATION
# =====================================================================

# Logging Settings
# ---------------------------------------------------------------------
# LOG_LEVEL: Minimum level of logs to record (error, warn, info, debug)
# LOG_FILE: Main log file path
# LOG_CONSOLE: Whether to log to console
# LOG_REQUESTS: Whether to log HTTP requests
# ERROR_LOG_FILE: Error log file path
# LOG_MAX_SIZE: Maximum log file size before rotation
# LOG_MAX_FILES: Maximum number of rotated log files to keep
LOG_LEVEL=debug
LOG_FILE=logs/app.log
LOG_CONSOLE=true
LOG_REQUESTS=true
ERROR_LOG_FILE=logs/error.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# =====================================================================
# DEVELOPMENT CONFIGURATION
# ---------------------------------------------------------------------
# FORCE_SCHEMA_CHECK: Whether to force schema checks in development
# ALLOW_DB_SYNC: Whether to allow Sequelize to sync database schema
FORCE_SCHEMA_CHECK=true
ALLOW_DB_SYNC=true